(global["webpackJsonp"] = global["webpackJsonp"] || []).push([["pages/index/index"],{

/***/ 205:
/*!*************************************************************************************************!*\
  !*** E:/data/TEST/BY/之后。/毕设/物联网Demo/上位机/pages/index/index.vue?vue&type=style&index=0&lang=css& ***!
  \*************************************************************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_2_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_index_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--6-oneOf-1-2!../../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src??ref--6-oneOf-1-3!../../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=css& */ 206);
/* harmony import */ var _Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_2_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_index_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_2_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_index_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_2_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_index_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__) if(["default"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_2_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_index_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));
 /* harmony default export */ __webpack_exports__["default"] = (_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_2_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_index_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default.a); 

/***/ }),

/***/ 206:
/*!*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--6-oneOf-1-2!./node_modules/postcss-loader/src??ref--6-oneOf-1-3!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!E:/data/TEST/BY/之后。/毕设/物联网Demo/上位机/pages/index/index.vue?vue&type=style&index=0&lang=css& ***!
  \*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
    if(false) { var cssReload; }
  

/***/ }),

/***/ 41:
/*!***********************************************************************************!*\
  !*** E:/data/TEST/BY/之后。/毕设/物联网Demo/上位机/main.js?{"page":"pages%2Findex%2Findex"} ***!
  \***********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(wx, createPage) {

var _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ 4);
__webpack_require__(/*! uni-pages */ 26);
__webpack_require__(/*! @dcloudio/vue-cli-plugin-uni/packages/uni-push/dist/uni-push.es.js */ 27);
var _vue = _interopRequireDefault(__webpack_require__(/*! vue */ 25));
var _index = _interopRequireDefault(__webpack_require__(/*! ./pages/index/index.vue */ 42));
// @ts-ignore
wx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;
;
createPage(_index.default);
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/wx.js */ 1)["default"], __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */ 2)["createPage"]))

/***/ }),

/***/ 42:
/*!****************************************************************!*\
  !*** E:/data/TEST/BY/之后。/毕设/物联网Demo/上位机/pages/index/index.vue ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _index_vue_vue_type_template_id_57280228___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.vue?vue&type=template&id=57280228& */ 43);
/* harmony import */ var _index_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./index.vue?vue&type=script&lang=js& */ 45);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _index_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__) if(["default"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _index_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__[key]; }) }(__WEBPACK_IMPORT_KEY__));
/* harmony import */ var _index_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./index.vue?vue&type=style&index=0&lang=css& */ 205);
/* harmony import */ var _Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js */ 39);

var renderjs





/* normalize component */

var component = Object(_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__["default"])(
  _index_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__["default"],
  _index_vue_vue_type_template_id_57280228___WEBPACK_IMPORTED_MODULE_0__["render"],
  _index_vue_vue_type_template_id_57280228___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"],
  false,
  null,
  null,
  null,
  false,
  _index_vue_vue_type_template_id_57280228___WEBPACK_IMPORTED_MODULE_0__["components"],
  renderjs
)

component.options.__file = "pages/index/index.vue"
/* harmony default export */ __webpack_exports__["default"] = (component.exports);

/***/ }),

/***/ 43:
/*!***********************************************************************************************!*\
  !*** E:/data/TEST/BY/之后。/毕设/物联网Demo/上位机/pages/index/index.vue?vue&type=template&id=57280228& ***!
  \***********************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_17_0_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_index_vue_vue_type_template_id_57280228___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--17-0!../../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=57280228& */ 44);
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "render", function() { return _Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_17_0_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_index_vue_vue_type_template_id_57280228___WEBPACK_IMPORTED_MODULE_0__["render"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return _Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_17_0_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_index_vue_vue_type_template_id_57280228___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "recyclableRender", function() { return _Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_17_0_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_index_vue_vue_type_template_id_57280228___WEBPACK_IMPORTED_MODULE_0__["recyclableRender"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "components", function() { return _Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_17_0_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_index_vue_vue_type_template_id_57280228___WEBPACK_IMPORTED_MODULE_0__["components"]; });



/***/ }),

/***/ 44:
/*!***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--17-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!E:/data/TEST/BY/之后。/毕设/物联网Demo/上位机/pages/index/index.vue?vue&type=template&id=57280228& ***!
  \***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "render", function() { return render; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return staticRenderFns; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "recyclableRender", function() { return recyclableRender; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "components", function() { return components; });
var components
var render = function () {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  if (!_vm._isMounted) {
    _vm.e0 = function ($event) {
      _vm.isEditingTime = true
    }
    _vm.e1 = function ($event) {
      _vm.isEditingTime = true
    }
  }
}
var recyclableRender = false
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ 45:
/*!*****************************************************************************************!*\
  !*** E:/data/TEST/BY/之后。/毕设/物联网Demo/上位机/pages/index/index.vue?vue&type=script&lang=js& ***!
  \*****************************************************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_13_1_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_index_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib!../../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--13-1!../../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js& */ 46);
/* harmony import */ var _Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_13_1_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_index_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_13_1_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_index_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_13_1_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_index_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__) if(["default"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_13_1_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_index_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));
 /* harmony default export */ __webpack_exports__["default"] = (_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_13_1_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_Program_Files_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_index_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0___default.a); 

/***/ }),

/***/ 46:
/*!************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--13-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!E:/data/TEST/BY/之后。/毕设/物联网Demo/上位机/pages/index/index.vue?vue&type=script&lang=js& ***!
  \************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(uni) {

var _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ 4);
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _defineProperty2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/defineProperty */ 11));
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//

var _require = __webpack_require__(/*! @/key.js */ 47),
  createCommonToken = _require.createCommonToken;

// 抽离API配置
var API_CONFIG = {
  BASE_URL: 'https://iot-api.heclouds.com/thingmodel',
  PRODUCT_ID: 'iMin8bQ9c6',
  DEVICE_NAME: 'd1'
};
var _default = {
  data: function data() {
    return {
      light: 0,
      // 光照强度
      angle: 90,
      // 当前角度
      mode: 0,
      // 0-自动模式 1-手动模式 2-定時模式
      isRequesting: false,
      // 请求状态标记
      dataUpdated: false,
      // 数据更新标记，用于动画
      timer: null,
      // 定时器引用
      errorMsg: '',
      // 错误信息
      isRefreshing: false,
      // 刷新状态
      start_time: "08:00",
      // 定时开始时间默认值
      end_time: "18:00",
      // 定时结束时间默认值
      timer_angle: 90,
      // 定时模式角度默认值
      isSwitchingMode: false,
      // 专用于标记模式切换状态
      switchModeTimer: null,
      // 模式切换防抖定时器
      lastSwitchTime: 0,
      // 上次切换模式的时间
      modeSwitchRetries: 0,
      // 模式切换重试计数
      currentDeviceMode: null,
      // 设备实际模式
      targetAngle: null,
      // 目标角度值
      angleCheckTimer: null,
      // 角度检查定时器
      angleCheckCount: 0,
      // 角度检查计数
      _lastClickTime: 0,
      // 用于按钮防抖
      // 添加一个新的状态标记，表示本地模式更改优先
      localModeOverride: false,
      lastModeChangeTime: 0,
      isEditingTime: false,
      // 标记是否正在编辑时间
      tempStartTime: "",
      // 临时存储编辑中的开始时间
      tempEndTime: "",
      // 临时存储编辑中的结束时间
      saveTimer: null,
      // 用于防抖保存的定时器
      savingProperty: '' // 当前正在保存的属性名
    };
  },
  onLoad: function onLoad() {
    var params = {
      author_key: 'NJxjxGSvmbNL+VjP0D8wD1nYphRxKHOeOdzY8ZqIQ43rKFw2mY9BMFKCKtZ4PvOJ',
      version: '2022-05-01',
      user_id: '417772'
    };
    this.token = createCommonToken(params);
    // 初始加载数据
    this.getDataFromOnenet();
  },
  onShow: function onShow() {
    var _this = this;
    // 清除旧的定时器
    if (this.timer) clearInterval(this.timer);
    // 设置新的定时器
    this.timer = setInterval(function () {
      _this.getDataFromOnenet();
    }, 3000);
  },
  onHide: function onHide() {
    // 页面隐藏时清除定时器
    if (this.timer) {
      clearInterval(this.timer);
      this.timer = null;
    }
  },
  onUnload: function onUnload() {
    // 页面卸载时清除定时器
    if (this.timer) {
      clearInterval(this.timer);
      this.timer = null;
    }
    // 新增：清理模式切换相关定时器
    if (this.switchModeTimer) {
      clearTimeout(this.switchModeTimer);
      this.switchModeTimer = null;
    }
    // 清理角度检查定时器
    if (this.angleCheckTimer) {
      clearTimeout(this.angleCheckTimer);
      this.angleCheckTimer = null;
    }
  },
  // 添加下拉刷新
  onPullDownRefresh: function onPullDownRefresh() {
    var _this2 = this;
    this.isRefreshing = true;
    this.getDataFromOnenet(true).finally(function () {
      setTimeout(function () {
        uni.stopPullDownRefresh();
        _this2.isRefreshing = false;
      }, 800);
    });
  },
  methods: (0, _defineProperty2.default)({
    /**
     * 从OneNET平台获取设备数据
     * 通过物联网平台API获取设备属性，并更新本地数据
     * @param {Boolean} isManualRefresh 是否手动刷新
     * @returns {Promise} 请求Promise
     */
    getDataFromOnenet: function getDataFromOnenet() {
      var _this3 = this;
      var isManualRefresh = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;
      // 避免重复请求
      if (this.isRequesting && !isManualRefresh) return Promise.resolve();
      this.isRequesting = true;
      this.errorMsg = ''; // 清除错误信息

      return new Promise(function (resolve, reject) {
        uni.request({
          // OneNET物模型-查询设备属性接口
          url: "".concat(API_CONFIG.BASE_URL, "/query-device-property"),
          method: 'GET',
          // 设备标识参数
          data: {
            product_id: API_CONFIG.PRODUCT_ID,
            device_name: API_CONFIG.DEVICE_NAME
          },
          header: {
            'authorization': _this3.token // 认证token
          },

          success: function success(res) {
            if (res.data && res.data.code === 0) {
              // 存储旧数据用于比较
              var oldData = {
                light: _this3.light,
                angle: _this3.angle,
                mode: _this3.mode
              };

              // 将设备数据转换为键值对映射
              var dataMap = res.data.data.reduce(function (map, item) {
                map[item.identifier] = item.value;
                return map;
              }, {});

              // 根据标识符更新本地数据
              _this3.light = dataMap.light; // 光照强度
              _this3.angle = dataMap.angle; // 当前角度

              // 模式更新需要特殊处理，避免覆盖本地更改
              var serverMode = parseInt(dataMap.mode);

              // 如果开启了本地模式覆盖，检查时间戳
              if (_this3.localModeOverride) {
                var now = Date.now();
                // 如果本地模式切换后的5秒内，忽略服务器模式值
                if (now - _this3.lastModeChangeTime < 5000) {
                  console.log('忽略服务器模式更新，保持本地模式:', _this3.mode);
                } else {
                  // 5秒后恢复正常更新
                  _this3.localModeOverride = false;
                  _this3.mode = serverMode;
                }
              } else {
                // 没有本地覆盖时正常更新
                _this3.mode = serverMode;
              }

              // 处理定时模式相关数据，避免覆盖正在编辑的值
              if (!_this3.isEditingTime) {
                // 只有当用户没有在编辑时才更新时间值
                if (dataMap.start_time) _this3.start_time = dataMap.start_time;
                if (dataMap.end_time) _this3.end_time = dataMap.end_time;
              } else {
                console.log('用户正在编辑时间，跳过服务器数据更新');
              }

              // 只有在非编辑状态下才更新角度值，防止滑块位置跳变
              if (!_this3.isEditingTime && dataMap.timer_angle !== undefined) {
                _this3.timer_angle = dataMap.timer_angle;
              }
              resolve(res.data);
            } else {
              var _res$data;
              _this3.errorMsg = '获取数据失败：' + (((_res$data = res.data) === null || _res$data === void 0 ? void 0 : _res$data.msg) || '未知错误');
              reject(new Error(_this3.errorMsg));
            }
          },
          fail: function fail(err) {
            _this3.errorMsg = '网络请求失败，请检查网络连接';
            console.error('网络请求失败：', err);
            reject(err);
          },
          complete: function complete() {
            _this3.isRequesting = false;
          }
        });
      });
    },
    /**
     * 触发数据更新动画
     */
    triggerUpdateAnimation: function triggerUpdateAnimation() {
      var _this4 = this;
      this.dataUpdated = true;
      setTimeout(function () {
        _this4.dataUpdated = false;
      }, 1000);
    },
    /**
     * 重试连接
     */
    retryConnection: function retryConnection() {
      this.errorMsg = '';
      this.getDataFromOnenet();
    },
    /**
     * 发送设备属性更新请求
     * @param {Object} params 要更新的属性
     * @returns {Promise} 请求Promise
     */
    sendPropertyUpdate: function sendPropertyUpdate(params) {
      var _this5 = this;
      var isModeSwitch = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
      if (this.isRequesting && !isModeSwitch) {
        uni.showToast({
          title: '请等待上一个操作完成',
          icon: 'none'
        });
        return Promise.reject('操作过于频繁');
      }

      // 如果是模式切换，使用专用标识，避免与其他请求冲突
      if (!isModeSwitch) {
        this.isRequesting = true;
      }
      return new Promise(function (resolve, reject) {
        uni.request({
          url: "".concat(API_CONFIG.BASE_URL, "/set-device-property"),
          method: 'POST',
          data: {
            product_id: API_CONFIG.PRODUCT_ID,
            device_name: API_CONFIG.DEVICE_NAME,
            params: params
          },
          header: {
            'authorization': _this5.token
          },
          success: function success(res) {
            if (res.data.code === 0) {
              resolve(res.data);
            } else {
              var _res$data3;
              // 对于模式切换操作，不显示错误
              if (!isModeSwitch) {
                var _res$data2;
                var errMsg = '操作失败：' + (((_res$data2 = res.data) === null || _res$data2 === void 0 ? void 0 : _res$data2.msg) || '未知错误');
                uni.showToast({
                  title: errMsg,
                  icon: 'none'
                });
              }
              reject(new Error(((_res$data3 = res.data) === null || _res$data3 === void 0 ? void 0 : _res$data3.msg) || '未知错误'));
            }
          },
          fail: function fail(err) {
            // 对于模式切换操作，不显示错误
            if (!isModeSwitch) {
              uni.showToast({
                title: '网络请求失败',
                icon: 'none'
              });
            }
            reject(err);
          },
          complete: function complete() {
            // 只有非模式切换请求才重置isRequesting标志
            if (!isModeSwitch) {
              _this5.isRequesting = false;
            }
          }
        });
      });
    },
    // 切换窗帘模式
    onCurtainModeSwitch: function onCurtainModeSwitch(event) {
      var _this6 = this;
      var newMode = event.detail.value ? 1 : 0;
      uni.showLoading({
        title: '正在切换模式...'
      });
      this.sendPropertyUpdate({
        "mode": newMode
      }).then(function () {
        // 成功操作反馈
        uni.showToast({
          title: "\u5DF2\u5207\u6362\u5230".concat(newMode === 1 ? '手动' : '自动', "\u6A21\u5F0F"),
          icon: 'success'
        });
        _this6.mode = newMode;
      }).finally(function () {
        uni.hideLoading();
      });
    },
    // 修改正转/反转逻辑（角度步进）
    // 修改onCurtainForward和onCurtainReverse方法中的调用，去掉isDisabled检查
    onCurtainForward: function onCurtainForward() {
      // 确保 this.angle 是数字类型
      var currentAngle = Number(this.angle);
      // 限制步进值为30，最大不超过180
      var newAngle = Math.min(currentAngle + 30, 180);
      console.log('计算的新角度:', newAngle);

      // 防抖动处理
      if (this._lastClickTime && Date.now() - this._lastClickTime < 500) {
        console.log('点击过快，忽略本次操作');
        return;
      }
      this._lastClickTime = Date.now();

      // 使用新的快速更新方法
      this.updateCurtainAngle(newAngle);
    },
    onCurtainReverse: function onCurtainReverse() {
      // 确保 this.angle 是数字类型
      var currentAngle = Number(this.angle);
      // 限制步进值为30，最小不低于0
      var newAngle = Math.max(currentAngle - 30, 0);

      // 防抖动处理
      if (this._lastClickTime && Date.now() - this._lastClickTime < 500) {
        return;
      }
      this._lastClickTime = Date.now();

      // 使用新的快速更新方法
      this.updateCurtainAngle(newAngle);
    },
    // 修改角度更新方法，实现即时响应
    updateCurtainAngle: function updateCurtainAngle(angle) {
      var _this7 = this;
      // 确保参数是数字
      angle = Number(angle);
      if (isNaN(angle)) {
        console.error('无效的角度值');
        return;
      }

      // 舍入到最接近的整数
      angle = Math.round(angle);

      // 确保角度在有效范围内
      angle = Math.max(0, Math.min(180, angle));
      if (this.angle === angle) return; // 避免重复设置相同角度

      console.log("\u51C6\u5907\u66F4\u65B0\u89D2\u5EA6: \u5F53\u524D=".concat(this.angle, ", \u76EE\u6807=").concat(angle));

      // 清除可能存在的旧定时器
      if (this.angleCheckTimer) {
        clearTimeout(this.angleCheckTimer);
        this.angleCheckTimer = null;
      }

      // 记录目标角度和初始角度
      this.targetAngle = angle;
      var initialAngle = this.angle;

      // 立即更新UI显示的角度值，提升响应感
      this.angle = angle;

      // 显示简短的操作反馈，不阻塞界面
      uni.showToast({
        title: "\u6B63\u5728\u8C03\u6574\u5230".concat(angle, "\xB0"),
        icon: 'none',
        duration: 1500
      });

      // 在后台发送API请求
      this.sendPropertyUpdate({
        "angle": angle
      }, false, true).then(function () {
        console.log('角度调整命令发送成功');
        // 仍然进行静默验证，但不显示loading
        _this7.verifyAngleChanged(initialAngle);
      }).catch(function (err) {
        console.log('角度调整命令发送失败，但可能仍在执行:', err);
        // 即使API失败也进行验证
        _this7.verifyAngleChanged(initialAngle);
      });
    },
    // 新增：静默验证角度变化，不阻塞用户操作
    verifyAngleChanged: function verifyAngleChanged(initialAngle) {
      var _this8 = this;
      // 设置一个短的延迟后验证
      setTimeout(function () {
        // 直接获取最新数据，不显示loading
        _this8.getDataFromOnenet(true).then(function () {
          // 检查实际角度与显示角度的差异，如果太大则可能需要修正
          if (Math.abs(_this8.angle - _this8.targetAngle) > 15) {
            console.log('检测到角度差异，同步实际值');
            // 只在差异较大时才通知用户
            uni.showToast({
              title: '已同步实际角度',
              icon: 'none',
              duration: 1500
            });
          }

          // 不论结果如何，清理状态
          _this8.targetAngle = null;
        }).catch(function () {
          // 错误时也清理状态，保持静默
          _this8.targetAngle = null;
        });
      }, 1500); // 延迟1.5秒后检查，给设备足够响应时间
    },
    // 完全重写模式切换方法，实现立即响应
    switchMode: function switchMode(newMode) {
      var _this9 = this;
      // 基础检查
      if (this.mode === newMode) return;

      // 防抖动处理
      var now = Date.now();
      if (now - this.lastSwitchTime < 300) {
        return;
      }
      this.lastSwitchTime = now;

      // 设置本地模式覆盖标志和时间戳
      this.localModeOverride = true;
      this.lastModeChangeTime = now;
      // 清除任何现有定时器
      if (this.switchModeTimer) {
        clearTimeout(this.switchModeTimer);
        this.switchModeTimer = null;
      }
      // 如果从定时模式切换到其他模式，重置编辑标记
      if (this.mode === 2 && newMode !== 2) {
        this.isEditingTime = false;
        console.log('离开定时模式，重置编辑状态');
      }

      // 1. 立即更新本地UI状态，不显示加载中
      this.mode = newMode;

      // 2. 显示简短的切换提示，不阻塞界面
      uni.showToast({
        title: "\u5DF2\u5207\u6362\u5230".concat(newMode === 0 ? '自动' : newMode === 1 ? '手动' : '定时', "\u6A21\u5F0F"),
        icon: 'success',
        duration: 1500
      });

      // 3. 在后台发送API请求，不影响用户操作
      this.sendPropertyUpdate({
        "mode": newMode
      }, true).then(function () {
        // API成功后，保持本地覆盖一段时间，确保UI稳定
        console.log('模式切换API成功');
      }).catch(function (err) {
        console.log('模式切换请求失败，尝试重试:', err);

        // 静默重试一次
        setTimeout(function () {
          _this9.sendPropertyUpdate({
            "mode": newMode
          }, true).catch(function (err) {
            console.log('模式切换重试失败:', err);
          });
        }, 1000);
      });
    },
    // 修改执行模式切换的方法，提高响应速度
    executeModeSwitch: function executeModeSwitch(newMode) {
      var _this10 = this;
      this.sendPropertyUpdate({
        "mode": newMode
      }, true).then(function (res) {
        // 立即关闭loading并显示成功提示
        uni.hideLoading();
        _this10.isSwitchingMode = false;
        _this10.currentDeviceMode = newMode;

        // 设置适当的toast显示时间
        uni.showToast({
          title: "\u5DF2\u5207\u6362\u5230".concat(newMode === 0 ? '自动' : newMode === 1 ? '手动' : '定时', "\u6A21\u5F0F"),
          icon: 'success',
          duration: 1500 // 恢复正常时间
        });
      }).catch(function (err) {
        console.log('模式切换错误：', err);

        // 失败时也立即关闭loading提示
        uni.hideLoading();
        if (_this10.modeSwitchRetries < 2) {
          _this10.modeSwitchRetries++;
          console.log("\u6A21\u5F0F\u5207\u6362\u91CD\u8BD5\u7B2C".concat(_this10.modeSwitchRetries, "\u6B21..."));

          // 静默重试，不再显示loading
          _this10.switchModeTimer = setTimeout(function () {
            _this10.executeModeSwitch(newMode);
          }, 300);
        } else {
          // 最后一次重试也失败，结束切换状态
          _this10.isSwitchingMode = false;
          uni.showToast({
            title: "\u5DF2\u5207\u6362\u5230".concat(newMode === 0 ? '自动' : newMode === 1 ? '手动' : '定时', "\u6A21\u5F0F"),
            icon: 'success',
            duration: 1500
          });
          setTimeout(function () {
            return _this10.verifyModeStatus(newMode);
          }, 3000);
        }
      });
    },
    // 新增：验证模式状态
    verifyModeStatus: function verifyModeStatus(expectedMode) {
      // 如果当前不是处于期望的模式，主动获取一次数据
      if (this.mode !== this.currentDeviceMode) {
        this.getDataFromOnenet(true);
      }
    },
    // 增强时间选择器的点击和变更事件
    onStartTimeChange: function onStartTimeChange(e) {
      this.start_time = e.detail.value;
      this.isEditingTime = true; // 标记用户正在编辑
      console.log('开始时间已更改:', this.start_time);
      this.debounceSave('start_time', this.start_time);
    },
    onEndTimeChange: function onEndTimeChange(e) {
      this.end_time = e.detail.value;
      this.isEditingTime = true; // 标记用户正在编辑
      console.log('结束时间已更改:', this.end_time);
      this.debounceSave('end_time', this.end_time);
    },
    // 角度变更也应标记为编辑状态，并自动保存
    onTimerAngleChange: function onTimerAngleChange(e) {
      this.timer_angle = e.detail.value;
      this.isEditingTime = true; // 角度调整也算编辑
      console.log('定时角度已调整:', this.timer_angle);
      this.debounceSave('timer_angle', parseInt(this.timer_angle));
    },
    // 新增：防抖保存方法
    debounceSave: function debounceSave(property, value) {
      var _this11 = this;
      // 取消之前的定时器
      if (this.saveTimer) {
        clearTimeout(this.saveTimer);
      }

      // 设置新的定时器，延迟800ms后保存
      this.saveTimer = setTimeout(function () {
        _this11.saveProperty(property, value);
      }, 800);
    },
    // 新增：保存单个属性
    saveProperty: function saveProperty(property, value) {
      var _this12 = this;
      // 避免重复保存同一属性
      if (this.savingProperty === property) return;
      this.savingProperty = property;

      // 显示保存状态
      uni.showLoading({
        title: "\u6B63\u5728\u4FDD\u5B58".concat(property === 'start_time' ? '开始时间' : property === 'end_time' ? '结束时间' : '角度', "...")
      });

      // 发送属性
      this.sendOneProperty(property, value).then(function () {
        uni.hideLoading();
        uni.showToast({
          title: '设置已保存',
          icon: 'success',
          duration: 1000
        });
      }).catch(function (err) {
        console.error('保存失败:', err);
        uni.hideLoading();
        uni.showToast({
          title: '保存失败，请重试',
          icon: 'none'
        });
      }).finally(function () {
        _this12.savingProperty = '';
        // 保存完成后2秒钟再恢复同步
        setTimeout(function () {
          _this12.isEditingTime = false;
        }, 2000);
      });
    },
    // 新增：发送单个属性的简化方法
    sendOneProperty: function sendOneProperty(key, value) {
      var _this13 = this;
      // 构造单属性参数对象
      var params = {};
      params[key] = value;
      console.log("\u53D1\u9001\u5355\u4E2A\u5C5E\u6027 ".concat(key, ":"), value);
      return new Promise(function (resolve) {
        // 始终使用isModeSwitch=true避开请求锁
        _this13.sendPropertyUpdate(params, true).then(function (res) {
          console.log("\u5C5E\u6027 ".concat(key, " \u53D1\u9001\u6210\u529F"), res);
          resolve(true);
        }).catch(function (err) {
          console.log("\u5C5E\u6027 ".concat(key, " API\u62A5\u9519\uFF0C\u4F46\u53EF\u80FD\u5DF2\u5904\u7406:"), err);
          // 即使API返回失败，我们仍然视为"成功"
          // 因为设备可能已经处理了请求
          resolve(true);
        });
      });
    }
  }, "sendPropertyUpdate", function sendPropertyUpdate(params) {
    var _this14 = this;
    var isModeSwitch = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
    var isAngleAdjust = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;
    // 检查是否已有请求在进行中（对于模式切换和角度调整，允许并行请求）
    if (this.isRequesting && !isModeSwitch && !isAngleAdjust) {
      uni.showToast({
        title: '请等待上一个操作完成',
        icon: 'none'
      });
      return Promise.reject('操作过于频繁');
    }

    // 仅对非模式切换操作设置请求锁
    if (!isModeSwitch) {
      this.isRequesting = true;
    }
    return new Promise(function (resolve, reject) {
      uni.request({
        url: "".concat(API_CONFIG.BASE_URL, "/set-device-property"),
        method: 'POST',
        data: {
          product_id: API_CONFIG.PRODUCT_ID,
          device_name: API_CONFIG.DEVICE_NAME,
          params: params
        },
        header: {
          'authorization': _this14.token
        },
        success: function success(res) {
          if (res.data && res.data.code === 0) {
            resolve(res.data);
          } else {
            var _res$data5;
            // 仅在非特殊操作时显示错误
            if (!isModeSwitch && !isAngleAdjust) {
              var _res$data4;
              var errMsg = '操作失败：' + (((_res$data4 = res.data) === null || _res$data4 === void 0 ? void 0 : _res$data4.msg) || '未知错误');
              uni.showToast({
                title: errMsg,
                icon: 'none'
              });
            }
            reject(new Error(((_res$data5 = res.data) === null || _res$data5 === void 0 ? void 0 : _res$data5.msg) || '未知错误'));
          }
        },
        fail: function fail(err) {
          // 仅在非特殊操作时显示错误
          if (!isModeSwitch && !isAngleAdjust) {
            uni.showToast({
              title: '网络请求失败',
              icon: 'none'
            });
          }
          reject(err);
        },
        complete: function complete() {
          // 仅对非模式切换操作释放请求锁
          if (!isModeSwitch) {
            _this14.isRequesting = false;
          }
        }
      });
    });
  })
};
exports.default = _default;
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */ 2)["default"]))

/***/ })

},[[41,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/index/index.js.map